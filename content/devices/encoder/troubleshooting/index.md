---
title: Troubleshooting
description: Troubleshooting encoder issues.
ogimage: card-images/devices/encoder-both.png
weight: 40
---

## Troubleshooting rotary encoders

It is important that your encoder type is set correctly. Incorrect setting will
cause double or half events per encoder click, or missed events when changing
the direction of the turn.  Most single-knob encoders are of the default type
`1 detent per cycle (11)` , and the dual concentric encoders are most likely
of the type `2 detents per cycle (00, 11)`, but of course there are variations
based on how the signals of the pins connect and disconnect in relation to the
detent rest position.

{{% steps %}}

### Enable log

In general, you should [enable logging](/guides/sharing-logs/) in *Settings*, and observe
events generated by the encoder. It is important to set the encoder type right, since
an incorrectly set encoder can appear to work more or less correctly, but it will
be very hard and frustrating to set things precisely, if you get missed or wrong events
when adjusting a value in your simulator.

### One, two, or four detents?

While most rotary encoders produce the same kind of phase-shifted pulse signal on two pins,
and the direction of the rotation can be determined from the order of the pulses,
in practice there are differences - whether one or both pulses connect and disconnect
before, at, or after the detent resting position, and how many detents there are in one
full cycle of pulses.

When your encoder type is set correctly, there should be *exactly one* LEFT or RIGHT
event per click, and it should always indicate the correct direction. Also, no clicks should
be skipped. Comparing to the default (and most common) encoder type `1 detent per cycle (11)`,
we troubleshoot possible issues:

- If you need two clicks to see one event on the log, your encoder is
  a *two-detents-per-cycle* type. Try `2 detents per cycle (00, 11)` first.
- If you get four events per click, you have a four detents per cycle
  encoder, try the `4 detents per cycle` setting.

> [!TIP]
> There is no need to close the dialog when you are testing different encoder types.
> Select a new type and click *Upload config*, and you can see the results in the
> log immediately.

### The subtype

Once you have set the one, two or four detents per cycle correctly, the next thing
to try is turning the knob and making a direction change. Start by turning the knob
right and see that the log shows the RIGHT events properly, one event per detent click.

Then turn the knob to the left, and observe the events generated.

If everything works exactly right, congratulations! Don't forget to *Upload config* so your
correct setting is saved!

But if you get a missed event, or get one more event towards RIGHT, before the events start showing LEFT, it means the encoder subtype is set wrong. At this point we already know the detent count of the encoder, so choose the other subtype that matches your detents-per-cycle.

The end result should be exactly one click in the correct direction for one notch on the knob.

{{% /steps %}}
